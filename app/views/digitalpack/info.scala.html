@import com.gu.memsub.Price
@import com.gu.memsub.Product.Digipack
@import model.DigitalEdition
@import views.support.DigitalEdition._
@(edition: DigitalEdition, price: Price)

@import model.Benefits

@startTrial(edition: DigitalEdition, price: Price, referringButton: String) = {
    <div class="pricing-cta">
        <div class="pricing-cta__pricing">
            <h4 class="pricing-cta__pricing__title">Free for 14 days</h4>
            <p class="pricing-cta__pricing__value">Then @price.pretty/month</p>
        </div>
        <div class="pricing-cta__action">
            <a class="button button--large button--primary"
               href="@edition.redirect(referringButton)"
               data-test-id="digital-pack-@edition.id-trial-header"
            >Start your free trial</a>
        </div>
    </div>
}

@main(
    title = s"Subscribe to the Guardian Digital Pack | The Guardian (${edition.name})",
    description = Some("The Digital Pack gives you access to the Guardian & Observer daily editions as well as premium tier access to the iOS and Android live news apps"),
    bodyClasses = List("is-wide"),
    edition = edition,
    product = Some(Digipack),
    contactUsCountry = edition.countryGroup.defaultCountry
) {
<script>
    guardian.pageInfo.pageType = 'Landing';
    guardian.pageInfo.productData.productSegment = 'digital';
</script>
<main class="page-container gs-container gs-container--slim">

    <section class="page-slice">
        <div class="page-slice__content">
            @fragments.page.header(s"Digital Pack", Some("Digital access to our Daily Edition and Guardian App Premium Tier"))
            @startTrial(edition, price, "subscribe_digipack_page_header")
        </div>
    </section>

    @* ===== What ===== *@
    <section class="page-slice page-slice--bordered">
        <div class="page-slice__header">
            <h3 class="page-slice__title">
                What do I get?
            </h3>
        </div>
        <div class="page-slice__content">
            @fragments.promos.packagePreview(
                Benefits.digitalPack,
                controllers.CachedAssets.hashedPathFor("images/tablet-edition-garnett.png"),
                "more-daily-edition-benefits"
            )
            @fragments.promos.packagePreview(
                Benefits.premiumTier,
                controllers.CachedAssets.hashedPathFor("images/premium-tier-garnett.png"),
                "more-premium-benefits"
            )
            @startTrial(edition, price, "subscribe_digipack_page_what_do_i_get")
        </div>
    </section>

    @* ===== Why ===== *@
    <section class="page-slice page-slice--bordered">
        <div class="page-slice__header">
            <h3 class="page-slice__title">Why subscribe?</h3>
        </div>
        <div class="page-slice__content">
            <ol class="grid grid--3up-step grid--bordered">
                <li class="grid__item">
                    <h3 class="u-pad-bottom">Support the Guardian's journalism</h3>
                    <p>We invest your money back into funding our open journalism and promoting freedom of speech, making quality news coverage accessible for everyone</p>
                </li>
                <li class="grid__item">
                    <h3 class="u-pad-bottom">Exclusive benefits</h3>
                    <p>Our subscribers are entitled to a range of exclusive benefits which include regular gifts and offers</p>
                </li>
                <li class="grid__item">
                    <h3 class="u-pad-bottom">Share on multiple devices</h3>
                    <p>You can download the Digital Pack on up to 10 devices. Share it with your friends and family or give it as a gift</p>
                </li>
            </ol>
            @startTrial(edition, price, "subscribe_digipack_page_why_subscribe")
        </div>
    </section>

    @* ===== How ===== *@
    <section class="page-slice page-slice--bordered">
        <div class="page-slice__header">
            <h3 class="page-slice__title">How do I get it?</h3>
        </div>
        <div class="page-slice__content">
            <ol class="grid grid--3up-step">
                <li class="grid__item">
                    <span class="numbered">
                        <span class="numbered__bullet">1.</span>
                        <span class="numbered__body">Order now and we will send you a Subscription ID</span>
                    </span>
                </li>
                <li class="grid__item">
                    <span class="numbered">
                        <span class="numbered__bullet">2.</span>
                        <span class="numbered__body">Download the Guardian app on your device from your app store</span>
                    </span>
                </li>
                <li class="grid__item">
                    <span class="numbered">
                        <span class="numbered__bullet">3.</span>
                        <span class="numbered__body">Enter your Subscription ID into the app, and enjoy</span>
                    </span>
                </li>
            </ol>
            @startTrial(edition, price, "subscribe_digipack_page_how_do_i_get_it")
        </div>
    </section>
</main>

}
