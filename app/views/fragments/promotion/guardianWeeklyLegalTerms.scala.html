@import com.gu.memsub.BillingPeriod.SixWeeks
@import com.gu.memsub.promo.PromoCode
@import com.gu.memsub.promo.Promotion.AnyPromotion
@import com.gu.memsub.subsv2.Catalog
@import views.support.MarkdownRenderer
@import com.gu.i18n.{Country, CountryGroup}

@(promoCode: PromoCode, catalog: Catalog, promotion: AnyPromotion, md: MarkdownRenderer, maybeCountry: Option[Country])
@isSixForSix = @{(catalog.weekly.plans.flatten.filter(_.charges.billingPeriod == SixWeeks).map(_.id).toSet intersect promotion.appliesTo.productRatePlanIds).nonEmpty}

@ukSixForSixTerms = @{"**United Kingdom:** Offer is £6 for the first 6 issues followed by quarterly (13 weeks) subscription payments of £37.50 thereafter, saving 35% off the cover price."}
@usSixForSixTerms = @{"**USA:** Offer is $6 for the first 6 issues, followed by quarterly (13 weeks) subscription payments of $75, saving 31% off the cover price."}
@caSixForSixTerms = @{"**Canada:** Offer is $6 for the first 6 issues, followed by quarterly (13 weeks) subscription payments of $80, saving 16% off the cover price."}
@auSixForSixTerms = @{"**Australia:** Offer is $6 for the first 6 issues, followed by quarterly (13 weeks) subscription payments of $97.50 thereafter, saving 15% off the cover price."}
@nzSixForSixTerms = @{"**New Zealand:** Offer is $6 for the first 6 issues, followed by quarterly (13 weeks) subscription payments of $123 thereafter, saving 20% off the cover price."}
@euSixForSixTerms = @{"**Europe:**  Offer is €6 for the first 6 issues followed by quarterly (13 weeks) subscription payments of €61.30, saving 26% off the cover price. Excluding Cyprus, Malta and Republic of Ireland."}
@rowSixForSixTerms = @{"**Rest of World:** Offer is US$6 the first 6 issues, followed by quarterly (13 weeks) subscription payments of US$81.30."}

@sixForSixGenericTerms = @{
    ukSixForSixTerms.concat("\n\n") +
    usSixForSixTerms.concat("\n\n") +
    caSixForSixTerms.concat("\n\n") +
    auSixForSixTerms.concat("\n\n") +
    nzSixForSixTerms.concat("\n\n") +
    euSixForSixTerms.concat("\n\n") +
    rowSixForSixTerms.concat("\n\n")
}

@Html(md.render(
    (if (isSixForSix) {
s"""
Offer not available to current subscribers of Guardian Weekly. You must be 18+ to be eligible for this offer. Guardian Weekly reserve the right to end this offer at any time.

$sixForSixGenericTerms

"""
    } else {
s"""
You must be 18+ to be eligible for a Guardian Weekly subscription.

**United Kingdom:** Quarterly (13 weeks) subscription rate £30 and annual rate £120, saving 20% off the cover price.

**USA and Canada:** Quarterly (13 weeks) subscription rate $$60 and annual rate $$240, saving 30% off the cover price ($$US) and 20% ($$CAN).

**Australia:** Quarterly (13 weeks) subscription payments of $$78 and annual rate $$312, saving 18% off the cover price.

**New Zealand:** Quarterly (13 weeks) subscription rate of $$98 and annual rate $$392, saving 18% off the cover price.

**Europe:** Quarterly (13 weeks) subscription rate of €49 and annual rate €196, saving 30% off the cover price. Excluding Cyprus, Malta and Republic of Ireland.

**Rest of World:** Quarterly (13 weeks) subscription payments of £48 or US$$65 and annual rates £192 or US $$260.
"""
    }) +
"""
For full subscription terms and conditions visit [theguardian.com/guardian-weekly-subscription-terms-conditions](https://www.theguardian.com/guardian-weekly-subscription-terms-conditions)
"""
))
